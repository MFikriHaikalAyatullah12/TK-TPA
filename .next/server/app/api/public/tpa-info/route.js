"use strict";(()=>{var e={};e.id=845,e.ids=[845],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5526:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>b,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>P});var a={};t.r(a),t.d(a,{GET:()=>p,dynamic:()=>c});var i=t(5419),o=t(9108),n=t(9678),s=t(8070),u=t(9631);let c="force-dynamic";async function p(e){try{let r=new URL(e.url);r.searchParams.get("domain")||r.hostname;let t=await u._.tpaInfo.findFirst({include:{pengajar:!0,santri:{where:{status:"active"},take:10},berita:{orderBy:{createdAt:"desc"},take:5},galeri:{orderBy:{createdAt:"desc"},take:8},jadwal:{orderBy:{createdAt:"desc"}},prestasi:{orderBy:{tahun:"desc"},take:5}}});if(!t)return s.Z.json({error:"TPA not found",message:"No TPA information available"},{status:404});return s.Z.json(t)}catch(e){return console.error("Public TPA info fetch error:",e),s.Z.json({error:"Internal server error"},{status:500})}}let d=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/public/tpa-info/route",pathname:"/api/public/tpa-info",filename:"route",bundlePath:"app/api/public/tpa-info/route"},resolvedPagePath:"/workspaces/TK-TPA/src/app/api/public/tpa-info/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:f,serverHooks:m,headerHooks:h,staticGenerationBailout:P}=d,b="/api/public/tpa-info/route";function g(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},9631:(e,r,t)=>{t.d(r,{_:()=>i});let a=require("@prisma/client"),i=globalThis.prisma||new a.PrismaClient}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206],()=>t(5526));module.exports=a})();