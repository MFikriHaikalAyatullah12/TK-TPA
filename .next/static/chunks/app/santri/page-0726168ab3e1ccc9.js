(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{2410:function(e,a,t){Promise.resolve().then(t.bind(t,7161))},7161:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return m}});var s=t(7437),r=t(2265),l=t(6263),i=t(5587);let n=r.forwardRef(function({title:e,titleId:a,...t},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?r.createElement("title",{id:a},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))});var d=t(1396),c=t.n(d);function m(){let[e,a]=(0,r.useState)(null),[t,d]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[o,h]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0);(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/public/tpa-info");if(e.ok){let t=await e.json();a(t)}let t=await fetch("/api/public/pengajar?limit=3");if(t.ok){let e=await t.json();d(e)}let s=await fetch("/api/public/berita?limit=3");if(s.ok){let e=await s.json();x(e)}let r=await fetch("/api/public/jadwal");if(r.ok){let e=await r.json();h(e)}}catch(e){console.error("Error fetching data:",e)}finally{p(!1)}};return g?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"T"})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:(null==e?void 0:e.tpaName)||"TPA"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Portal Santri"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(c(),{href:"/pendaftaran",className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-green-700",children:"Daftar Santri"}),(0,s.jsx)(c(),{href:"/",className:"text-gray-500 hover:text-gray-700 px-4 py-2 rounded-md text-sm font-medium",children:"Beranda"})]})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Selamat Datang"}),(0,s.jsx)("p",{className:"text-gray-600",children:(null==e?void 0:e.deskripsi)||"Selamat datang di portal santri TPA. Di sini Anda dapat melihat informasi terkini tentang kegiatan, jadwal, dan pengumuman."})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Berita & Pengumuman Terbaru"})}),(0,s.jsx)("div",{className:"p-6",children:m.length>0?(0,s.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,s.jsxs)("div",{className:"border-l-4 border-green-500 pl-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.judul}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:[e.isi.substring(0,150),"..."]}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:new Date(e.createdAt).toLocaleDateString("id-ID")})]},e.id))}):(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Belum ada berita terbaru"})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Pengajar"})}),(0,s.jsx)("div",{className:"p-6",children:t.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(e=>(0,s.jsxs)("div",{className:"text-center p-4 rounded-lg bg-gray-50",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)("span",{className:"text-green-600 font-medium text-lg",children:e.nama.charAt(0)})}),(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.nama}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.jabatan})]},e.id))}):(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Belum ada data pengajar"})})]})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Jadwal Kegiatan"})}),(0,s.jsx)("div",{className:"p-6",children:o.length>0?(0,s.jsx)("div",{className:"space-y-3",children:o.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.kegiatan}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.hari})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.waktuMulai," - ",e.waktuSelesai]})})]},e.id))}):(0,s.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Belum ada jadwal"})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Kontak"})}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(null==e?void 0:e.alamat)&&(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(l.Z,{className:"h-5 w-5 text-gray-400 mt-0.5 mr-3 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.alamat})]}),(null==e?void 0:e.telepon)&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5 text-gray-400 mr-3 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.telepon})]}),(null==e?void 0:e.email)&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(n,{className:"h-5 w-5 text-gray-400 mr-3 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]}),(null==e?void 0:e.whatsapp)&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("a",{href:"https://wa.me/".concat(e.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:"Hubungi via WhatsApp"})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Menu Cepat"})}),(0,s.jsxs)("div",{className:"p-6 space-y-2",children:[(0,s.jsx)(c(),{href:"/santri/jadwal",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Jadwal Lengkap"}),(0,s.jsx)(c(),{href:"/santri/berita",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Semua Berita"}),(0,s.jsx)(c(),{href:"/santri/pengajar",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Daftar Pengajar"}),(0,s.jsx)(c(),{href:"/santri/galeri",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Galeri Foto"})]})]})]})]})})]})}},6263:function(e,a,t){"use strict";var s=t(2265);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});a.Z=r},5587:function(e,a,t){"use strict";var s=t(2265);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))});a.Z=r}},function(e){e.O(0,[176,971,938,744],function(){return e(e.s=2410)}),_N_E=e.O()}]);