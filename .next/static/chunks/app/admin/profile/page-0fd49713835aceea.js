(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{7346:function(e,a,r){Promise.resolve().then(r.bind(r,9393))},9393:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return i}});var s=r(7437),t=r(2265),l=r(3753),o=r(1396),n=r.n(o);function i(){let[e,a]=(0,t.useState)({tpaName:"",logo:"",heroImage:"",sejarah:"",visi:"",misi:"",strukturOrganisasi:"",alamat:"",telepon:"",whatsapp:"",email:"",jamOperasional:"",instagram:"",facebook:"",kurikulum:"",metodePembelajaran:""}),[r,o]=(0,t.useState)(!1),[i,d]=(0,t.useState)("");(0,t.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("/api/admin/profile");if(e.ok){let r=await e.json();r.tpaInfo&&a(r.tpaInfo)}}catch(e){console.error("Error fetching TPA info:",e)}},c=async a=>{a.preventDefault(),o(!0),d("");try{(await fetch("/api/admin/tpa-info",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?d("Informasi TPA berhasil diperbarui!"):d("Gagal memperbarui informasi")}catch(e){d("Error: "+e)}finally{o(!1)}},u=async(r,s)=>{var t;let l=null===(t=r.target.files)||void 0===t?void 0:t[0];if(!l)return;let o=new FormData;o.append("file",l),o.append("type",s);try{let r=await fetch("/api/admin/upload-image",{method:"POST",body:o});if(r.ok){let t=await r.json();a({...e,[s]:t.url})}}catch(e){console.error("Upload error:",e)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,s.jsx)("div",{className:"py-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"pb-6 border-b border-blue-200 flex items-center",children:[(0,s.jsxs)(n(),{href:"/admin",className:"mr-4 inline-flex items-center px-4 py-2 border border-blue-200 shadow-lg text-sm leading-4 font-medium rounded-lg text-blue-700 bg-white/80 backdrop-blur-lg hover:bg-blue-50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Kembali"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold leading-tight bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent",children:"Profil TPA"})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)("div",{className:"bg-white/90 backdrop-blur-lg shadow-xl rounded-xl border border-blue-100",children:(0,s.jsxs)("form",{onSubmit:c,className:"p-8 space-y-8",children:[i&&(0,s.jsx)("div",{className:"p-4 rounded-md ".concat(i.includes("berhasil")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:i}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Nama TPA"}),(0,s.jsx)("input",{type:"text",value:e.tpaName||"",onChange:r=>a({...e,tpaName:r.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Masukkan nama TPA"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email TPA"}),(0,s.jsx)("input",{type:"email",value:e.email||"",onChange:r=>a({...e,email:r.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"email@tpa.com"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Logo TPA"}),(0,s.jsxs)("div",{className:"mt-1 flex items-center space-x-4",children:[e.logo&&(0,s.jsx)("img",{src:e.logo,alt:"Logo",className:"h-16 w-16 object-cover rounded-md"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>u(e,"logo"),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG hingga 2MB"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Foto Utama TPA"}),(0,s.jsxs)("div",{className:"mt-1 flex items-center space-x-4",children:[e.heroImage&&(0,s.jsx)("img",{src:e.heroImage,alt:"Hero",className:"h-20 w-32 object-cover rounded-md"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>u(e,"heroImage"),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG hingga 2MB"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Telepon"}),(0,s.jsx)("input",{type:"text",value:e.telepon||"",onChange:r=>a({...e,telepon:r.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"0812-3456-7890"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"WhatsApp"}),(0,s.jsx)("input",{type:"text",value:e.whatsapp||"",onChange:r=>a({...e,whatsapp:r.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"62812345678901"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 62 + nomor tanpa 0 (contoh: 62812345678901)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Alamat"}),(0,s.jsx)("textarea",{value:e.alamat||"",onChange:r=>a({...e,alamat:r.target.value}),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Alamat lengkap TPA"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Jam Operasional"}),(0,s.jsx)("input",{type:"text",value:e.jamOperasional||"",onChange:r=>a({...e,jamOperasional:r.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Senin-Jumat: 15:00-17:00, Sabtu: 08:00-10:00"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Instagram"}),(0,s.jsx)("input",{type:"text",value:e.instagram||"",onChange:r=>a({...e,instagram:r.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"@tpa_username"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Facebook"}),(0,s.jsx)("input",{type:"text",value:e.facebook||"",onChange:r=>a({...e,facebook:r.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"https://facebook.com/tpa"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Sejarah TPA"}),(0,s.jsx)("textarea",{value:e.sejarah||"",onChange:r=>a({...e,sejarah:r.target.value}),rows:4,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Ceritakan sejarah berdirinya TPA..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Visi"}),(0,s.jsx)("textarea",{value:e.visi||"",onChange:r=>a({...e,visi:r.target.value}),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Visi TPA..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Misi"}),(0,s.jsx)("textarea",{value:e.misi||"",onChange:r=>a({...e,misi:r.target.value}),rows:4,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Misi TPA... (pisahkan dengan enter untuk setiap poin)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Struktur Organisasi"}),(0,s.jsx)("textarea",{value:e.strukturOrganisasi||"",onChange:r=>a({...e,strukturOrganisasi:r.target.value}),rows:4,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Ketua: Nama   Sekretaris: Nama   Bendahara: Nama"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Kurikulum"}),(0,s.jsx)("textarea",{value:e.kurikulum||"",onChange:r=>a({...e,kurikulum:r.target.value}),rows:4,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Deskripsi kurikulum yang digunakan..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Metode Pembelajaran"}),(0,s.jsx)("textarea",{value:e.metodePembelajaran||"",onChange:r=>a({...e,metodePembelajaran:r.target.value}),rows:4,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm px-3 py-2 border",placeholder:"Metode yang digunakan: Ummi, Baghdadiyah, dll..."})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{type:"submit",disabled:r,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:r?"Menyimpan...":"Simpan Perubahan"})})]})})})]})})})}},3753:function(e,a,r){"use strict";var s=r(2265);let t=s.forwardRef(function({title:e,titleId:a,...r},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});a.Z=t}},function(e){e.O(0,[176,971,938,744],function(){return e(e.s=7346)}),_N_E=e.O()}]);